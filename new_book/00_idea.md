# idea

《自动化测试框架设计》

### 背景：

截至目前我共出版了三本书：

2016年1月出版了第一本书《Selenium 2自动化测试实战---基于Python语言》最大的亮点是介绍了编程`语言python + 单元测试框架unittest + 测试库selenium`的组合使用，在此之前所有介绍selenium的书都只是介绍selenium工具本身。

我一直认为自动化的基础就是：

> 编程语言 + 单元测试框架 + 测试库

而这本书比较基础的介绍这三个技术，以及如何将他们组合到一起，完成自动化测试项目。

一年后，2017年4月出版了第二本书《Web接口开发与自动化测试--基于Python语言》，说句不要脸的话，可能是填补`接口自动化测试`这一技术的空白，至少以此为主题的中文书籍的空白。

因为我做接口自动化测试是从开发学起的，认为只有掌握一定的开发技术，才能真正的理解接口，并做好接口自动化测试，于是，书中版本书在介绍web开发，而关于接口测试和工具介绍的比较浅。

到目前为止，我依然觉得Web开发技术对接口自动化测试至关重要。


2019年7月，我出版了第三本书《Selenium 3自动化测试实战---基于Python语言》，这本书完全是对第一本书的`弥补`，随着时间的推移，越发觉得第一本书不够深入和全面。于是加入了 pytest、数据驱动、Jeninks、appium等。但我觉得他的意义小于前两本书。

虽然，我的每本书都会打磨好几遍，但只要一出版，总会有遗憾；现在看来前面三本书有太多不足和遗憾。

出版社编辑每次结稿费的时候都会督促我该更新版本了。当然，我其实是不愿意躺在这两个技术上吃老本的，虽然，我之前写的书中有太多遗憾，但我觉得他们已经完成了历史使命。而且，每年都会有几本类似的书出版。

## 谈谈新书

先来讲个故事：

在古代，大家徒手捕捉野兽，采集。

突然有一天，有人发明了锤子，于是，大家争相学习锤子的用法。为了更好的教大家使用锤子，有人写了一本书叫 《锤子使用指南》

随着，人类的进步，工作内容越来越复杂，很多时候需要多种工具配合使用才能完成一项工具，于是，有人写了一本书叫《完成xx工作，基于 锤子+螺丝刀+锯子》

为了完成某项工作，人们往往需要学习很多工具（锤子、螺丝刀、锯子、剪刀、扳手），首先工具很多学习成本比较高，其实，为了使用好这些工具每家每户都要准备一个大工具箱来分门别类的存放这些工具。

为了简化工具的使用，出现了两个方向：

* 平台化

张三家开了一个工具商店，并且请了专业的师傅，你家盆裂了，只要拿到他那里维修就好了，怎么修好的你不用管。

* 框架化

李四家设计了一个多功能军刀，什么小刀、剪刀、开瓶器、螺丝刀的功能他都能搞定。你只需要买上一把回去就能解决大部分问题。

例子举的不严谨，但意思估计你明白了，目前自动化也在朝着 `平台化` 和 `框架化` 发展。甚至两者不冲突，平台也可以和框架整合。

平台的优点是极大的简化了自动化的编写，并且利于做数据统计和展示。但缺点是不够灵活，功能局限于UI设计。

框架本质上是以更简单的API提供更强大的功能，为开发者提供便利，所以，他更加灵活和易于扩展，当然，缺点是仍然需要编程，而且不便于做数据的统计和展示。

关于《测试平台设计》的书已经早有人出版了，但我觉得很难讲好，需要的知识面太多，UI交互和设计，前端开发框架以及UI库、后端开发框架、接口设计、数据库设计等，而且，这些还只是开发技术，还需要考虑测试工具、测试技术的整合。正式因为我近几年一直在做相关开发工作，所以，更是觉得一本书很难把这些东西讲清楚。

关于《自动化测试框架设计》的书还没有，当然这个话题可深可浅，`robot framework` 在Python的语言的基础上设计了一套DSL(领域特定语言)，构建了自己的生态(seleniumLibrary、RequestLibrary、AppiumLibrary...)、自己编辑器（robor framework RIDE）、测试报告等，把他称做`框架` 实至名归。 也有一些人把 pytest + selenium + allure 等工具简单的拼凑到一起，号称自己开发了一个测试框架，这就有点 `臭不要脸` 了。那么，我想是试试写这个话题，他介于二者之间，既不像 `robot framework`那么从零开发一套框架，也不是现有技术的简单拼凑。在现有的一些框架和工具上做二次开发，并独立于项目之外，提供简单而又强大的功能。

这里立个flag，下周开始在公众号连载，希望一年后能完成出版。

